<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{title}}</title>
  <link rel="shortcut icon" href="/images/logo.png" />
  <link rel="stylesheet" href="/main/stylesheets/reset.css" />
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous">
  <link rel="stylesheet" href="/main/stylesheets/common.css" />
  <link rel="stylesheet" href="/main/stylesheets/main.css" />
  <link rel="stylesheet" href="/main/stylesheets/font.css" />
  <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,700" rel="stylesheet" />
  <!-- <link rel="stylesheet" href="/main/stylesheets/layout.css" /> -->
  {% block css %} {% endblock %}
</head>

<body>
  <header id="header">
    <div id="header-logo">
      <a href="/"><img class="logo-img" src="/images/logo.png" alt="" /></a>
    </div>

    <nav class="mynav">
      <ul>
        <li class="nav-item">
          <a class="nav-link link" href="/">ABOUT US</a>
        </li>
        <li class="nav-item">
          <a class="nav-link link" href="/club">도전클럽</a>
        </li>
        <li class="nav-item">
          <a class="nav-link link" href="/infomountain">100대 명산 정보</a>
        </li>
        <li class="nav-item">
          <a class="nav-link link" href="/community/page?offset=0&limit=5">게시판</a>
        </li>
        <li class="nav-item">
          <a class="nav-link link" href="/">캠페인</a>
        </li>
      </ul>
    </nav>
    <div id="header-right-container">
      {% if user and user.id %}
      <p class="hello">
        <span class="hello-item"><a href="/mypage">{{'안녕하세요! ' + user.nick + '님'}}</a></span>
        <span class="hello-item logout"><a href="/logout">[로그아웃]</a><i class="fas fa-sign-out-alt"></i></span>
        <input id="my-id" type="hidden" value="{{user.id}}" />
      </p>
      {% else %}
      <p class="hello">
        <span class="hello-item">
          <a class="login-link link" href="/login">로그인</a>
        </span>
      </p>
      {% endif %}
      <div class="right_icons">
        <a href="/club">
          <div class="sprite_camera_icon"></div>
        </a>
        <a href="/infomountain">
          <div class="sprite_compass_icon"></div>
        </a>
        <a href="/clubdetail">
          <div class="sprite_heart_icon_outline"></div>
        </a>
        <a href="/login">
          <div class="sprite_user_icon_outline"></div>
        </a>
      </div>
    </div>
  </header>
  {% block content %} {% endblock %}
  <footer>
    <div id="footer-container">
      <div id="footer-logo"></div>
      <div id="footer-menu-container"></div>
    </div>
  </footer>
</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<!-- <script src="../public/main/javascript/scrolltrigger.js"></script> -->
<script>
  window.onload = () => {
    if (new URL(location.href).searchParams.get("loginError")) {
      alert(new URL(location.href).searchParams.get("loginError"));
    }
  };
</script>
<!-- <script>
  const target = document.querySelector(".target");
  const links = document.querySelectorAll(".mynav a");
  // 배열을 만들어 색지정
  const colors = ["green", "darkblue", "darkgreen"];

  // 링크들의 색상을 바꾸기 -> active 있을떄와 없을때의 차이를 지정
  for (let i = 0; i < links.length; i++) {
    // links[0].addEventListener('click',function(e){e.preventDefault();});
    // 위내용을 화살표함수로 변경해서 사용
    links[i].addEventListener("mouseenter", mouseenterFunc);
    // links[i].addEventListener("click", () => {
    //   let targetLink = this.getAttribute("href");
    //   location.href = targetLink;
    // });
    //mouseenterFunc 마우스 할일
  }
  function mouseenterFunc() {
    if (!this.parentNode.classList.contains("active")) {
      for (let i = 0; i < links.length; i++) {
        if (links[i].parentNode.classList.contains("active")) {
          links[i].parentNode.classList.remove("active");
        }
        links[i].style.opacity = "0.25";
      } //마우스가 올라가지 않은 다른 메뉴들 마다 할일.

      this.parentNode.classList.add("active");
      this.style.opacity = "1";
      // Element.getBoundingClientRect() : 뷰포인트에 상대적인 위치에 대한 정보를 제공 하는 객체를 반환합니다 .
      const width = this.getBoundingClientRect().width;
      const height = this.getBoundingClientRect().height;
      const left = this.getBoundingClientRect().left + window.pageXOffset;
      const top = this.getBoundingClientRect().top + window.pageYOffset;
      const color = colors[Math.floor(Math.random() * links.length)]; // 배열의 숫자가 랜덤으로 나와야함.
      //랜덤으로 난수 만들기
      // console.log(Math.floor(Math.random() * links.length));

      target.style.width = `${width}px`; // 변수와 문자를 한번에  베틱사용
      target.style.height = `${height}px`;
      target.style.left = `${left}px`;
      target.style.top = `${top}px`;
      target.style.borderColor = color;
    }
  }
  // Active에 있는 메뉴의 left와 top값을 다시 구하는것 / 브라우저 사이즈가 바뀌면 바뀌는대로
  function resizeFunc() {
    const active = document.querySelector(".mynav li .active");

    if (active) {
      const left = active.getBoundingClientRect().left + window.pageXOffset;
      const top = active.getBoundingClientRect().top + window.pageYOffset;

      target.style.left = `${left}px`;
      target.style.top = `${top}px`;
    }
  }
  window.addEventListener("resize", resizeFunc);
</script> -->
{% block script %}
<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
{% endblock %}

</html>